@using DeliverLoad;
@model DeliverLoad.Models.CategoryModel
@{
    ViewBag.Title = "View Details";
    Layout = "~/Views/Shared/_Layout2.cshtml";
}

<div class="col-sm-12 vehicle_details">
    <div class="col-sm-4 text-left">
        <button class="btn btn-theme">
            Offer Ride
        </button>
    </div>
    <div class="col-sm-4 text-center">
        <button class="btn btn-theme">
            Create Ride Alert
        </button>
    </div>
    <div class="col-sm-4 text-right">
        <p>&nbsp;</p>
    </div>
    <div class="clear-fix"></div>
    <div class="col-sm-8">
        <div class="border-box">
            <table class="table table-responsive">
                <tbody>
                    <tr>
                        <td>Departure Point</td>
                        <td>@Html.Raw(Model.PickupLocation)</td>
                        @*@Html.TextBoxFor(model => model.from, new { @id = "from", @class = "form-control", @placeholder = "From", @onfocus = "geolocate()" })*@
                    </tr>
                    <tr>
                        <td>Drop-Off Point</td>
                        <td>@Model.DropOffLocation</td>
                        @*@Html.TextBoxFor(model => model.to, new { @id = "to", @class = "form-control", @placeholder = "To", @onfocus = "geolocate()" })*@
                    </tr>
                    <tr>
                        <td>Departure Time</td>
                        <td>@{var displayPickup = "";}
@if (Model.PickupDate != null)
{
    var date = Model.PickupDate.Value.ToString("dd/MM/yyyy");
    var TodayDate = DateTime.Now.ToString("dd/MM/yyyy");
    if (date == TodayDate)
    {
        displayPickup = "Today";

    }
    else
    {
        displayPickup = Model.PickupDate.Value.ToString("dd MMM yyyy");
    }

    @displayPickup

}



                       </td>
                    </tr>
                </tbody>
            </table>
            <div class="comment">
                <div class="col-sm-2">
                    <img src="@Model.Image" class="img-responsive" />
                </div>
                <div class="col-sm-10">
                   @Html.Raw(Model.Description)
                </div>
            </div>
        </div>
        <div id="map" class="mt-15" style="width:100%;height:500px;">
        </div>
    </div>
    <div class="col-sm-4">
        <div class="border-box">
            <div class="border-bottom text-uppercase f-18 text-center py-10">
                <div class="col-xs-6">
                    <span class="f-22 bold">@Model.Price</span> <br /> ACCEPT
                </div>
                <div class="col-xs-6 ">
                    @Model.LoadSpaceTitle <br />
                    <span class="f-16">&nbsp;</span>
                </div>
            </div>
            <div class="border-bottom f-22 text-center py-10">
                MAKE COUNTER OFFER
            </div>
            <div class="f-14 py-10">
                It's too late to book on this ride offer <br/>
                <a href="#" class="link">Search for another ride</a>
            </div>
        </div>
        <div class="border-box mt-15">
            <h3 class="border-bottom colored-text">@Model.LoadSpaceTitle Owner</h3>
            <img src="@Model.ProfileImage" class="img-responsive" style="max-width:200px;"/>
            <h2>@Model.FirstName @Model.LastName</h2>
            <span class="text-success">Phone Number Verified</span><br />
            <span class="text-success">Email address Verified</span><br />
            <span class="text-success">337 facebook friend</span>
        </div>
        <div class="border-box colored-text">
            <h4>Member Activity</h4>
            <p class="f-14">8 rides offered</p>
            <p class="f-14">Last online: 
            @{var displayLastOnline = "";}
                @if (Model.LastOnline!= null)
                {
                    var date = Model.LastOnline.Value.ToString("dd/MM/yyyy");
                    var TodayDate =  DateTime.Now.ToString("dd/MM/yyyy");
                    if (date == TodayDate)
                    {
                        displayLastOnline = "Today - " + Model.LastOnline.Value.ToString("hh:mm");

                    }
                    else
                    {
                        displayLastOnline = Model.LastOnline.Value.ToString("dd MMM yyyy hh:mm");
                    }
                    
                    @displayLastOnline

                }
            
            
            </p>
            <p class="f-14">Member since: 
            @if (Model.RegistrationDate != null)
            {
                @Model.RegistrationDate.Value.ToString("MMM yyyy");
                  
            }
            
            </p>
            <a href="#" class="link">see public profile</a>
        </div>
    </div>
</div>

<script type="text/javascript">
    
    //$(document).ready(function () {
    //    debugger
    //    AutocompleteDirectionsHandler($("map"));
    //    geolocate();
    //})
    
</script>